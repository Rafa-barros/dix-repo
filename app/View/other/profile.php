
<div class="profile">
    <div class="profile-top">
        <img src="https://pesquisei.club/wp-content/uploads/2018/05/img_5af35102b4d4c.png"  class="img-capa" alt="Imagem de capa">
        <div class="prof-status-container">
            <div class="profile-img-container">
                <img src="/app/View/assets/css/img/Caio.jpg" class="profile-img" alt="">
            </div>
            <p class="prof-name">Caio Brandini</p>
            <p class="description">Lorem ipsum dolor sit amet.</p>
            <div class="follower-status">
                <span> <b class="nfollowers">12</b> seguidores</span>
                <span> <b>7</b> VIPS</span>
            </div>
        </div>
        <div class="profile-btn-area">
            <button type="button" class="btn btn-outline-primary btn-profile-follow">Seguir</button>
            <button type="button" class="btn btn-primary btn-profile-message">Mensagem</button>
        </div>
        <div class="profile-img-container-border-bottom"></div>
    </div>

    <div class="VIP">
        <button type="button" class="btn btn-warning btn-VIP">Torne-se VIP!</button>
    </div>

    <div class="profile-bottom">

        <div class="profile-l-content">
            <h2 class="about-me">Sobre mim</h2>
            <p class="bio">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsam placeat quae magni error, unde laborum quisquam, earum sit illum ipsum et delectus tenetur perferendis soluta sint maiores animi.</p>
            <div class="g-border"></div>
            <h2 class="nposts-title">Número de posts</h2>
            <p class="nposts">28</p>
        </div>
    
        <div class="profile-posts">
    
        <!-- post 1 -->
            <div class="card">
                <div class="card-top">
                    <div class="l-card-top">
                        <a href=""><img class="profile-image" src="/app/View/assets/css/img/Caio.jpg" alt="Foto perfil"></a>
                        <div class="author-info">
                            <p class="author-name"> <a href="">Caio Brandini</a></p>
                            <p class="post-time"> 34 min </p>
                        </div>
                    </div>
                    <div class="r-card-top">
                        <button type="button" class="btn btn-primary btn-card-follow">Seguir</button>
                    </div>
                </div>
                <div class="midia-container">
                    <img src="https://scontent.fcpq4-1.fna.fbcdn.net/v/t1.0-9/140726030_2932453123741462_2090715909532181379_n.jpg?_nc_cat=104&ccb=2&_nc_sid=730e14&_nc_ohc=OBII42r_vCIAX_KW_Ov&_nc_ht=scontent.fcpq4-1.fna&oh=c5e6105ef7a97f1ede98edc740351769&oe=602F52B8" alt="">
                </div>
                <div class="card-bot">
                    <div class="post-status">
                        <span class="nlikes">218 curtidas</span> <span class="ncomments">23 comentários</span>
                    </div>
                    <div class="g-border"></div>
                    <div class="interactive">
                        <div class="like">
                            <button class="btn-like"><span><i style="color: unset" class="fas fa-fire-alt"></i> Curtir</span> </button>
                        </div>
                        <div class="comment">
                            <button class="btn-comment"><i class="far fa-comment"></i>Comentários</span></button><span>
                        </div>
                    </div>
                    <div class="comment-area">
                        <div class="a-comment">
                            <p class="r-comment"> <span class="a-username"><a href="">Gustavo123</a></span> Lorem, ipsum dolor.</p>
                        </div>
                        <div class="a-comment">
                            <p class="r-comment"> <span class="a-username"><a href="">Fernandoo</a></span> Lorem ipsum dolor sit.</p>
                        </div>
                        <div class="a-comment">
                            <p class="r-comment"> <span class="a-username"><a href="">AnaJulia_50</a></span> Lorem, ipsum.</p>
                        </div>
                        <div class="a-comment">
                            <p class="r-comment"> <span class="a-username"><a href="">Marcus13</a></span> Lorem ipsum dolor sit amet consectetur adipisicing.<p>
                        </div>
                        <div class="a-comment">
                            <p class="r-comment"> <span class="a-username"><a href=""> LauraaaSouza</a></span> Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates expedita labore quas possimus. Eaque, molestiae. Nesciunt vero minima assumenda voluptatem?</p>
                        </div>
                        <div class="end-comment-show"></div>
                        <div class="comment-now">
                            <form method="POST" class="comment-form" ajax="true">
                                <input type="text" class="form-control comment-input" placeholder="Deixe seu comentário aqui..." required>
                                <button class="btn-send-comment"> Enviar </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- post 2 -->
    
            <div class="card">
            <div class="card-top">
                <div class="l-card-top">
                    <a href=""><img class="profile-image" src="/app/View/assets/css/img/Caio.jpg" alt="Foto perfil"></a>
                        <div class="author-info">
                            <p class="author-name"> <a href="">Caio Brandini</a></p>
                            <p class="post-time"> 34 min </p>
                        </div>
                    </div>
                <div class="r-card-top">
                        <button type="button" class="btn btn-primary btn-card-follow">Seguir</button>
                    </div>
                </div>
        <div class="midia-container">
            <img src="https://scontent.fcpq4-1.fna.fbcdn.net/v/t1.0-9/141305301_3904500662933554_4794639086175181746_o.jpg?_nc_cat=1&ccb=2&_nc_sid=730e14&_nc_ohc=yqZx4VzPNUoAX-2Goue&_nc_ht=scontent.fcpq4-1.fna&oh=f56c81a3579170fbcf3217b6d150fb36&oe=60314113" alt="">
        </div>
        <div class="card-bot">
            <div class="post-status">
                <span class="nlikes">218 curtidas</span> <span class="ncomments">23 comentários</span>
            </div>
            <div class="g-border"></div>
            <div class="interactive">
                <div class="like">
                    <button class="btn-like"><span><i style="color: unset" class="fas fa-fire-alt"></i> Curtir</span> </button>
                </div>
                <div class="comment">
                    <button class="btn-comment"><i class="far fa-comment"></i>Comentários</span></button><span>
                </div>
            </div>
            <div class="comment-area">
                <div class="a-comment">
                    <span class="a-username"><a href="">Gustavo123</a></span> <p class="r-comment">oioioi</p>
                </div>
                <div class="end-comment-show"></div>
                <div class="comment-now">
                    <form method="POST" class="comment-form" ajax="true">
                        <input type="text" class="form-control comment-input" placeholder="Deixe seu comentário aqui..." required>
                        <button class="btn-send-comment"> Enviar </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    </div>


        <!-- /profile-posts -->

    </div>
</div>
<div class="footer">
    <div class="copyright">
        <p>© 2021 - Dix corporation</p>
    </div>
</div>




<script>

// $(".comment-input").on("change paste keyup", function() {
//    if($(this).val()!="") $(this).css("background-color", "red");
// });

$('.comment-area').hide();

//Área lateral

    if(window.matchMedia("(max-width: 1250px)").matches){
        $(".profile-l-content").hide();
    } 


// Botão de like

    $('.btn-like').click(function (){
        var likeIcon = document.querySelectorAll('.btn-like')[0];

        if($(this).css("color") == "rgb(0, 0, 0)") $(this).css("color", "rgb(218, 51, 51)");
        else $( this ).css( "color", "rgb(0, 0, 0)" );

        var card = $(this).parents(".card")
        text = card.find(".nlikes").text();
        if($(this).css("color") == "rgb(0, 0, 0)"){
        card.find(".nlikes").text((parseInt(text.split()[0])+ 1).toString() + " curtidas");
        } 
        else {card.find(".nlikes").text((parseInt(text.split()[0])- 1).toString() + " curtidas")}

    });

    $('.btn-comment').click(function (){
        var card = $(this).parents(".card").find('.comment-area').show();
    });


// Comentário

$(document).ready(function(e) {
    
    $("form[ajax=true]").submit(function(e) {
        
        e.preventDefault();
        
        var form_data = $(this).serialize();
        var form_url = $(this).attr("action");
        
        var card = $(this).parents(".card");
        var commentInput = card.find(".comment-input").val();
        var newComment = '<div class="a-comment"> <p class="r-comment"> <span class="a-username"><a href="">CaioBrandini</a></span>'+ htmlEntities(commentInput) +'</p> </div>';

        $.ajax({
            url: form_url,    
            data: form_data,     
            cache: false,
            success: function(){
                var commentInput = card.find(".end-comment-show").before(newComment);
                $('.comment-input').val("");      
                ncomments = card.find(".ncomments").text();
                card.find(".ncomments").text((parseInt(ncomments.split()[0])+ 1).toString() + " comentários")         
            }           
        });    
        
    });
    
});

// Seguir

$(".btn-profile-follow").click(follow);

$(".btn-card-follow").click(follow);

function follow() {
    let thiss =  $(".btn-profile-follow");
    if(thiss.css("background-color") != "rgb(57, 132, 218)"){
        let nfollowers = $(".nfollowers").text();
        thiss.css("background-color", "rgb(57, 132, 218)").css("color", "white").html('Seguindo <i class="fas fa-check check-follow-profile"></i>');
        $(".btn-card-follow").css("background-color", "rgb(45, 81, 122))").html('Seguindo <i style="margin-left:6px;" class="fas fa-check"></i>');
        $(".nfollowers").text((parseInt(nfollowers)+ 1).toString() );
    }
    
    else {
        let nfollowers = $(".nfollowers").text();
        thiss.css("background-color", "transparent").css("color", "rgb(57, 132, 218)").text("Seguir");
        $(".btn-card-follow").css("background-color", "rgb(45, 81, 122))").html('seguir');
        $(".nfollowers").text((parseInt(nfollowers)- 1).toString() );
    }
}


// HtmlEntities

function htmlEntities(str) {
    return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
}

</script>

<!-- 
    By: Caio C. Brandini da Silva - 2021

    Linkedin: https://www.linkedin.com/in/caiobrandini/
 -->